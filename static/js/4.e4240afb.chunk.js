(this["webpackJsonpsimple-apps"]=this["webpackJsonpsimple-apps"]||[]).push([[4],{91:function(t,a,e){"use strict";e.r(a);var n=e(10),o=e(12),i=e(13),r=e(16),s=e(15),c=e(0),l=e.n(c),u=e(14),m=e(17),d=e(28),h=e(63),p=e(65),b=e(89),f=function(t){Object(r.a)(e,t);var a=Object(s.a)(e);function e(){var t;Object(o.a)(this,e);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(t=a.call.apply(a,[this].concat(r))).state={transactionID:0,balance:0,depositDiag:!1,withdrawDiag:!1,transactionAmount:0,transactions:[]},t.handleTransactionAdditionAction=function(a){if(t.state.transactionAmount){var e=t.state.balance,o=t.state.transactionID+1;e=1==a?e+t.state.transactionAmount:e-t.state.transactionAmount,t.setState({balance:e});var i=new Object,r=t.state.transactionAmount;i.transactionAmount=r,i.transactionType=a?"D":"W",i.balance=e,i.transactionID=o;var s=t.state.transactions;s.push(i),t.setState({transaction:s,transactionID:o}),window.localStorage.setItem("transactionID",o),window.localStorage.setItem("balance",e),window.localStorage.setItem("transactions",JSON.stringify(Object(n.a)(s)))}},t.deleteTransaction=function(a){var e=t.state.transactions,o=e.findIndex((function(t){return t.transactionID==a}));if(-1!==o){var i=t.state.balance;e.splice(o,1).forEach((function(t){i="D"===t.transactionType?i-t.transactionAmount:i+t.transactionAmount,e.forEach((function(e){e.transactionID>=a&&(e.balance="D"===t.transactionType?e.balance-t.transactionAmount:e.balance+t.transactionAmount)}))})),t.setState({balance:i,transactions:e}),window.localStorage.setItem("balance",i),window.localStorage.setItem("transactions",JSON.stringify(Object(n.a)(e)))}},t}return Object(i.a)(e,[{key:"componentDidMount",value:function(){console.log("EWallet - APP - PROPS",this.props),console.log("EWallet - APP - STATE",this.state);var t=JSON.parse(window.localStorage.getItem("transactions"));Array.isArray(t)||(t=[]);var a=JSON.parse(window.localStorage.getItem("transactionID")),e=JSON.parse(window.localStorage.getItem("balance"));t&&0===t.length&&(e=0),this.setState({transactionID:a,transactions:Object(n.a)(t),balance:e})}},{key:"render",value:function(){var t=this,a=this.state.balance<0?{color:"red"}:null;return l.a.createElement(u.a,null,l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("strong",null,"BALANCE :: ",l.a.createElement("label",{style:a},this.state.balance)))),l.a.createElement("div",null,l.a.createElement(m.Button,{label:"Deposit",onClick:function(){return t.setState({depositDiag:!0})}}),l.a.createElement(m.Button,{label:"Withdraw",onClick:function(){return t.setState({withdrawDiag:!0})}}),l.a.createElement(d.Dialog,{header:"Deposit",visible:this.state.depositDiag,onHide:function(){t.setState({depositDiag:!1,transactionAmount:0})},closeOnEscape:!0,dismissableMask:!0},l.a.createElement(m.Button,{label:"Deposit",onClick:function(){t.handleTransactionAdditionAction(!0),t.setState({depositDiag:!1})}}),l.a.createElement(h.InputNumber,{value:this.state.transactionAmount,locale:"en-IN",currency:"INR",onChange:function(a){t.setState({transactionAmount:a.value})},focusOnShow:!0})),l.a.createElement(d.Dialog,{header:"Withdraw",visible:this.state.withdrawDiag,onHide:function(){t.setState({withdrawDiag:!1,transactionAmount:0})},closeOnEscape:!0,dismissableMask:!0},l.a.createElement(m.Button,{label:"Withdraw",onClick:function(){t.handleTransactionAdditionAction(!1),t.setState({withdrawDiag:!1})}}),l.a.createElement(h.InputNumber,{value:this.state.transactionAmount,locale:"en-IN",currency:"INR",onChange:function(a){return t.setState({transactionAmount:a.value})},focusOnShow:!0}))),l.a.createElement("div",null,"Component for showing Ledger",l.a.createElement(p.DataTable,{value:this.state.transactions,responsive:!0},l.a.createElement(b.Column,{field:function(t){return"D"===t.transactionType?l.a.createElement("strong",{style:{color:"green"}},"Deposit"):l.a.createElement("strong",{style:{color:"red"}},"Withdraw")},header:"TRANSACTION TYPE"}),l.a.createElement(b.Column,{field:"transactionAmount",header:"AMOUNT"}),l.a.createElement(b.Column,{field:"balance",header:"BALANCE"}),l.a.createElement(b.Column,{header:"DELETE",field:function(a){return l.a.createElement(m.Button,{label:"X",onClick:function(){return t.deleteTransaction(a.transactionID)}})}}))))}}]),e}(c.Component);a.default=f}}]);
//# sourceMappingURL=4.e4240afb.chunk.js.map